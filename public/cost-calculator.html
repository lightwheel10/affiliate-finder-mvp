<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Crew Cast Studio / Infrastructure Cost Analysis</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-void: #050505;
            --bg-surface: #0A0A0A;
            --bg-surface-highlight: #141414;
            --bg-surface-elevated: #1a1a1a;
            
            --border-subtle: rgba(255, 255, 255, 0.06);
            --border-active: rgba(255, 255, 255, 0.15);
            
            --text-primary: #EDEDED;
            --text-secondary: #888888;
            --text-tertiary: #444444;
            
            --accent-primary: #ffffff;
            --accent-glow: rgba(255, 255, 255, 0.2);
            
            --signal-green: #22c55e;
            --signal-orange: #f59e0b;
            --signal-red: #ef4444;
            --signal-blue: #3b82f6;
            
            --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.1);
            --ease-smooth: cubic-bezier(0.16, 1, 0.3, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
        }

        body {
            background-color: var(--bg-void);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            font-size: 14px;
        }

        .noise {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9999;
            opacity: 0.03;
            background: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
        }

        .mono { font-family: 'JetBrains Mono', monospace; letter-spacing: -0.02em; }
        .label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.1em; color: var(--text-secondary); }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .header-left h1 {
            font-size: 1.5rem;
            font-weight: 500;
            letter-spacing: -0.02em;
            margin-bottom: 0.5rem;
        }

        .header-right {
            text-align: right;
        }

        .total-display {
            font-size: 3rem;
            font-weight: 300;
            letter-spacing: -0.03em;
        }

        .total-label {
            margin-top: 0.25rem;
        }

        /* Flow Diagram */
        .flow-section {
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            padding: 2rem;
            margin-bottom: 3rem;
        }

        .flow-title {
            font-size: 1rem;
            font-weight: 500;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .flow-steps {
            display: flex;
            gap: 1rem;
            align-items: stretch;
        }

        @media (max-width: 900px) {
            .flow-steps { flex-direction: column; }
        }

        .flow-step {
            flex: 1;
            background: var(--bg-surface-highlight);
            border: 1px solid var(--border-subtle);
            padding: 1.5rem;
            position: relative;
        }

        .flow-step::after {
            content: '‚Üí';
            position: absolute;
            right: -1.5rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-tertiary);
            font-size: 1.5rem;
        }

        .flow-step:last-child::after {
            display: none;
        }

        @media (max-width: 900px) {
            .flow-step::after {
                content: '‚Üì';
                right: 50%;
                top: auto;
                bottom: -1.5rem;
                transform: translateX(50%);
            }
        }

        .step-number {
            width: 24px;
            height: 24px;
            background: var(--text-primary);
            color: var(--bg-void);
            border-radius: 50%;
            display: grid;
            place-items: center;
            font-size: 0.75rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .step-title {
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .step-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .step-cost {
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-subtle);
            font-size: 0.85rem;
        }

        .step-cost .amount {
            font-weight: 600;
            color: var(--signal-green);
        }

        /* Main Grid */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 3rem;
        }

        @media (max-width: 1024px) {
            .main-grid { grid-template-columns: 1fr; }
        }

        .section {
            margin-bottom: 2.5rem;
        }

        .section-title {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .section-title::after {
            content: '';
            flex: 1;
            height: 1px;
            background: var(--border-subtle);
        }

        /* Cards */
        .card {
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            padding: 1.5rem;
        }

        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .card-title {
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .card-value {
            font-size: 1.75rem;
            font-weight: 500;
        }

        /* Per Keyword Breakdown */
        .keyword-cost-card {
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.1) 0%, var(--bg-surface) 100%);
            border: 1px solid rgba(59, 130, 246, 0.2);
        }

        .cost-row {
            display: flex;
            justify-content: space-between;
            padding: 0.6rem 0;
            font-size: 0.85rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .cost-row:last-child {
            border-bottom: none;
        }

        .cost-row.total {
            font-weight: 600;
            padding-top: 1rem;
            margin-top: 0.5rem;
            border-top: 1px solid var(--border-active);
            border-bottom: none;
        }

        .cost-row .service {
            color: var(--text-secondary);
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cost-row .amount {
            font-weight: 500;
        }

        .cost-row.total .amount {
            color: var(--signal-blue);
            font-size: 1.1rem;
        }

        /* Config */
        .config-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-subtle);
        }

        .config-row:last-child {
            border-bottom: none;
        }

        .config-label {
            font-size: 0.85rem;
        }

        .config-input {
            width: 70px;
            padding: 0.5rem;
            background: var(--bg-surface-highlight);
            border: 1px solid var(--border-subtle);
            color: var(--text-primary);
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.85rem;
            text-align: center;
        }

        .config-input:focus {
            outline: none;
            border-color: var(--border-active);
        }

        /* Slider */
        .slider-group {
            margin: 1.5rem 0;
        }

        .slider-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.75rem;
        }

        .slider-value {
            font-size: 1.25rem;
            font-weight: 500;
        }

        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            height: 4px;
            background: var(--border-subtle);
            border-radius: 2px;
            outline: none;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #fff;
            cursor: grab;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .slider-labels {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.7rem;
            color: var(--text-tertiary);
        }

        /* Summary Panel */
        .summary-panel {
            background: linear-gradient(135deg, var(--bg-surface-highlight) 0%, var(--bg-surface) 100%);
            border: 1px solid var(--border-active);
            padding: 1.5rem;
            position: sticky;
            top: 2rem;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            padding: 0.6rem 0;
            font-size: 0.85rem;
            border-bottom: 1px solid var(--border-subtle);
        }

        .summary-row:last-child {
            border-bottom: none;
        }

        .summary-row.total {
            margin-top: 0.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-active);
            border-bottom: none;
            font-size: 1rem;
        }

        .summary-row .value {
            font-weight: 500;
        }

        .summary-row.total .value {
            font-size: 1.5rem;
            color: var(--signal-green);
        }

        .summary-row .value.overage {
            color: var(--signal-orange);
        }

        /* Meters */
        .meter-group {
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-subtle);
        }

        .meter {
            margin-bottom: 1rem;
        }

        .meter:last-child {
            margin-bottom: 0;
        }

        .meter-header {
            display: flex;
            justify-content: space-between;
            font-size: 0.75rem;
            margin-bottom: 0.25rem;
        }

        .meter-bar {
            height: 4px;
            background: var(--border-subtle);
            border-radius: 2px;
            overflow: hidden;
        }

        .meter-fill {
            height: 100%;
            transition: all 0.3s ease;
        }

        /* Fixed Costs */
        .fixed-row {
            display: flex;
            justify-content: space-between;
            padding: 0.75rem 0;
            border-bottom: 1px solid var(--border-subtle);
        }

        .fixed-row:last-child {
            border-bottom: none;
        }

        .fixed-row.total {
            font-weight: 600;
            margin-top: 0.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-active);
        }

        .fixed-info {
            display: flex;
            flex-direction: column;
            gap: 0.2rem;
        }

        .fixed-detail {
            font-size: 0.7rem;
            color: var(--text-tertiary);
        }

        /* Note Box */
        .note-box {
            background: rgba(59, 130, 246, 0.05);
            border: 1px solid rgba(59, 130, 246, 0.2);
            padding: 1rem;
            margin-top: 1rem;
            font-size: 0.8rem;
            color: var(--text-secondary);
        }

        .note-box.warning {
            background: rgba(245, 158, 11, 0.05);
            border-color: rgba(245, 158, 11, 0.3);
        }

        .note-box strong {
            color: var(--signal-blue);
        }

        .note-box.warning strong {
            color: var(--signal-orange);
        }

        /* Footer */
        .footer {
            margin-top: 4rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-subtle);
            display: flex;
            justify-content: space-between;
            color: var(--text-tertiary);
            font-size: 0.75rem;
        }

        /* Highlight Box */
        .highlight-row {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        @media (max-width: 768px) {
            .highlight-row { flex-direction: column; }
        }

        .highlight-box {
            flex: 1;
            background: var(--bg-surface);
            border: 1px solid var(--border-subtle);
            padding: 1.5rem;
            text-align: center;
        }

        .highlight-box.primary {
            background: linear-gradient(135deg, rgba(34, 197, 94, 0.1) 0%, var(--bg-surface) 100%);
            border-color: rgba(34, 197, 94, 0.3);
        }

        .highlight-box .big-number {
            font-size: 2rem;
            font-weight: 300;
            margin: 0.5rem 0;
        }

        .highlight-box.primary .big-number {
            color: var(--signal-green);
        }
    </style>
</head>
<body>
    <div class="noise"></div>

    <div class="container">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <h1>Infrastructure Cost Analysis</h1>
                <p class="label mono">CREW CAST STUDIO // DEC 2025</p>
            </div>
            <div class="header-right">
                <div class="total-display mono" id="grand-total">$153.05</div>
                <p class="label total-label">ESTIMATED MONTHLY</p>
            </div>
        </header>

        <!-- User Flow -->
        <div class="flow-section">
            <div class="flow-title">
                <span>üìã</span>
                <span>User Journey & Cost Flow</span>
            </div>
            <div class="flow-steps">
                <div class="flow-step">
                    <div class="step-number">1</div>
                    <div class="step-title">Search Keywords</div>
                    <div class="step-desc">
                        User enters 1-5 keywords. Each keyword queries all platforms simultaneously.
                    </div>
                    <div class="step-cost">
                        Cost: <span class="amount" id="flow-search-cost">~$1.01</span> per keyword
                    </div>
                </div>
                <div class="flow-step">
                    <div class="step-number">2</div>
                    <div class="step-title">Browse & Save</div>
                    <div class="step-desc">
                        User reviews results from all platforms, saves the ones they like.
                    </div>
                    <div class="step-cost">
                        Cost: <span class="amount">$0.00</span> (no API calls)
                    </div>
                </div>
                <div class="flow-step">
                    <div class="step-number">3</div>
                    <div class="step-title">Find Emails & Outreach</div>
                    <div class="step-desc">
                        User finds emails for saved contacts, generates personalized messages.
                    </div>
                    <div class="step-cost">
                        Cost: <span class="amount">$0.02-0.044</span> per email
                    </div>
                </div>
            </div>
        </div>

        <!-- Key Metrics -->
        <div class="highlight-row">
            <div class="highlight-box primary">
                <p class="label">Cost Per Keyword Search</p>
                <div class="big-number mono" id="cost-per-keyword">$1.01</div>
                <p style="font-size: 0.75rem; color: var(--text-secondary);">
                    <span id="total-results-display">50</span> results (<span id="web-count-display">20</span> web + <span id="social-count-display">30</span> social)
                </p>
            </div>
            <div class="highlight-box">
                <p class="label">Max Session Cost (5 keywords)</p>
                <div class="big-number mono" id="cost-per-session">$5.05</div>
                <p style="font-size: 0.75rem; color: var(--text-secondary);">
                    Per user search session
                </p>
            </div>
            <div class="highlight-box">
                <p class="label">Cost Per Email</p>
                <div class="big-number mono">$0.02</div>
                <p style="font-size: 0.75rem; color: var(--text-secondary);">
                    Within 2,500/mo limit
                </p>
            </div>
        </div>

        <div class="main-grid">
            <!-- Left Column -->
            <div class="left-col">
                
                <!-- Per Keyword Cost Breakdown -->
                <div class="section">
                    <div class="section-title">Cost Per Keyword Search</div>
                    
                    <div class="card keyword-cost-card">
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 1rem;">
                            When user searches 1 keyword, these API calls are made:
                        </p>
                        
                        <div class="cost-row">
                            <span class="service">üåê Serper (Web Discovery)</span>
                            <span class="amount mono">$0.001</span>
                        </div>
                        <div class="cost-row">
                            <span class="service">üìä SimilarWeb √ó <span id="sw-count">20</span> domains</span>
                            <span class="amount mono" id="sw-cost">$1.00</span>
                        </div>
                        <div class="cost-row">
                            <span class="service">üì∏ Apify Instagram (<span id="insta-count">10</span> results)</span>
                            <span class="amount mono" id="insta-cost">~$0.002</span>
                        </div>
                        <div class="cost-row">
                            <span class="service">‚ñ∂Ô∏è Apify YouTube (<span id="youtube-count">10</span> results)</span>
                            <span class="amount mono" id="youtube-cost">~$0.005</span>
                        </div>
                        <div class="cost-row">
                            <span class="service">üéµ Apify TikTok (<span id="tiktok-count">10</span> results)</span>
                            <span class="amount mono" id="tiktok-cost">~$0.002</span>
                        </div>
                        <div class="cost-row total">
                            <span class="service">Total Per Keyword</span>
                            <span class="amount mono" id="keyword-total">$1.01</span>
                        </div>
                    </div>

                    <div class="note-box">
                        <strong>‚ÑπÔ∏è Note:</strong> Apify scrapers return full profile/channel stats. No additional calls needed for Instagram, YouTube, or TikTok data.
                    </div>
                </div>

                <!-- Configuration -->
                <div class="section">
                    <div class="section-title">Results Per Keyword (Configure)</div>
                    
                    <div class="card">
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: 1rem;">
                            Configure how many results to show per platform for each keyword search:
                        </p>
                        
                        <div class="config-row">
                            <span class="config-label">üåê Web Results (SimilarWeb @ $0.05 each)</span>
                            <input type="number" class="config-input" id="cfg-web" value="20" min="0" max="50" onchange="update()">
                        </div>
                        <div class="config-row">
                            <span class="config-label">üì∏ Instagram Results</span>
                            <input type="number" class="config-input" id="cfg-insta" value="10" min="0" max="50" onchange="update()">
                        </div>
                        <div class="config-row">
                            <span class="config-label">‚ñ∂Ô∏è YouTube Results</span>
                            <input type="number" class="config-input" id="cfg-youtube" value="10" min="0" max="50" onchange="update()">
                        </div>
                        <div class="config-row">
                            <span class="config-label">üéµ TikTok Results</span>
                            <input type="number" class="config-input" id="cfg-tiktok" value="10" min="0" max="50" onchange="update()">
                        </div>
                        
                        <div style="margin-top: 1.5rem; padding: 1rem; background: var(--bg-surface-highlight); border: 1px solid var(--border-subtle);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <span style="font-size: 0.9rem;">Total Results Per Keyword</span>
                                <span class="mono" style="font-size: 1.5rem; font-weight: 500;" id="total-results">50</span>
                            </div>
                            <div style="display: flex; gap: 1rem; margin-top: 0.75rem; font-size: 0.75rem; color: var(--text-tertiary);">
                                <span>üåê <span id="sum-web">20</span></span>
                                <span>üì∏ <span id="sum-insta">10</span></span>
                                <span>‚ñ∂Ô∏è <span id="sum-youtube">10</span></span>
                                <span>üéµ <span id="sum-tiktok">10</span></span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Monthly Usage -->
                <div class="section">
                    <div class="section-title">Monthly Usage Estimate</div>
                    
                    <div class="card">
                        <!-- Keyword Searches -->
                        <div class="slider-group">
                            <div class="slider-header">
                                <span class="label">Keyword Searches / Month</span>
                                <span class="slider-value mono" id="disp-keywords">5</span>
                            </div>
                            <input type="range" id="in-keywords" min="1" max="500" value="5" oninput="update()">
                            <div class="slider-labels">
                                <span>1</span>
                                <span>100</span>
                                <span>250</span>
                                <span>500</span>
                            </div>
                        </div>

                        <!-- Emails -->
                        <div class="slider-group">
                            <div class="slider-header">
                                <span class="label">Emails Found & Sent / Month</span>
                                <span class="slider-value mono" id="disp-emails">50</span>
                            </div>
                            <input type="range" id="in-emails" min="0" max="5000" step="10" value="50" oninput="update()">
                            <div class="slider-labels">
                                <span>0</span>
                                <span>1,000</span>
                                <span>2,500</span>
                                <span>5,000</span>
                            </div>
                        </div>
                    </div>

                    <div class="note-box warning">
                        <strong>‚ö†Ô∏è Apify Budget:</strong> $20/month for usage (after $19 SimilarWeb rental).
                        <br>Current usage: <span class="mono" id="apify-usage">$5.05</span>
                        <span id="apify-status"> ‚Äî <span style="color: var(--signal-green);">‚úì Within budget</span></span>
                    </div>
                </div>

                <!-- Fixed Costs -->
                <div class="section">
                    <div class="section-title">Fixed Monthly Costs</div>
                    
                    <div class="card">
                        <div class="fixed-row">
                            <div class="fixed-info">
                                <span>Apify Platform</span>
                                <span class="fixed-detail">$39 credits (‚àí$19 SimilarWeb = $20 usage)</span>
                            </div>
                            <span class="mono">$39.00</span>
                        </div>
                        <div class="fixed-row">
                            <div class="fixed-info">
                                <span>Serper API</span>
                                <span class="fixed-detail">50,000 searches included</span>
                            </div>
                            <span class="mono">$50.00</span>
                        </div>
                        <div class="fixed-row">
                            <div class="fixed-info">
                                <span>Apollo.io</span>
                                <span class="fixed-detail">2,500 email lookups included</span>
                            </div>
                            <span class="mono">$59.00</span>
                        </div>
                        <div class="fixed-row total">
                            <span>Total Fixed</span>
                            <span class="mono">$148.00</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Summary -->
            <div class="right-col">
                <div class="summary-panel">
                    <h3 style="font-size: 1rem; margin-bottom: 1.5rem; font-weight: 500;">Monthly Cost Summary</h3>
                    
                    <div class="summary-row">
                        <span>Fixed Costs</span>
                        <span class="value mono">$148.00</span>
                    </div>
                    
                    <div class="summary-row">
                        <span>Search Costs (<span id="sum-keywords">5</span> keywords)</span>
                        <span class="value mono" id="sum-search">$5.05</span>
                    </div>
                    
                    <div class="summary-row">
                        <span>Apify Overage</span>
                        <span class="value mono" id="sum-apify">$0.00</span>
                    </div>
                    
                    <div class="summary-row">
                        <span>Apollo Overage</span>
                        <span class="value mono" id="sum-apollo">$0.00</span>
                    </div>
                    
                    <div class="summary-row">
                        <span>OpenAI (<span id="sum-email-count">50</span> emails)</span>
                        <span class="value mono" id="sum-openai">$1.00</span>
                    </div>
                    
                    <div class="summary-row total">
                        <span>Monthly Total</span>
                        <span class="value mono" id="sum-total">$154.05</span>
                    </div>

                    <!-- Meters -->
                    <div class="meter-group">
                        <p class="label" style="margin-bottom: 1rem;">Credit Usage</p>
                        
                        <div class="meter">
                            <div class="meter-header">
                                <span>Apify ($20 budget)</span>
                                <span class="mono" id="meter-apify-text">$5.05 / $20</span>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-fill" id="meter-apify" style="width: 25%; background: var(--signal-green);"></div>
                            </div>
                        </div>
                        
                        <div class="meter">
                            <div class="meter-header">
                                <span>Serper (50K searches)</span>
                                <span class="mono" id="meter-serper-text">5 / 50,000</span>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-fill" id="meter-serper" style="width: 0.5%; background: var(--signal-green);"></div>
                            </div>
                        </div>
                        
                        <div class="meter">
                            <div class="meter-header">
                                <span>Apollo (2,500 emails)</span>
                                <span class="mono" id="meter-apollo-text">50 / 2,500</span>
                            </div>
                            <div class="meter-bar">
                                <div class="meter-fill" id="meter-apollo" style="width: 2%; background: var(--signal-green);"></div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Ref -->
                    <div style="margin-top: 1.5rem; padding-top: 1.5rem; border-top: 1px solid var(--border-subtle);">
                        <p class="label" style="margin-bottom: 0.75rem;">Quick Reference</p>
                        <div style="font-size: 0.8rem; color: var(--text-secondary);">
                            <div style="display: flex; justify-content: space-between; padding: 0.25rem 0;">
                                <span>Per keyword (current config)</span>
                                <span class="mono" id="ref-keyword">$1.01</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.25rem 0;">
                                <span>Max session (5 keywords)</span>
                                <span class="mono" id="ref-session">$5.05</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.25rem 0;">
                                <span>Per email (within limit)</span>
                                <span class="mono">$0.02</span>
                            </div>
                            <div style="display: flex; justify-content: space-between; padding: 0.25rem 0;">
                                <span>Per email (over 2,500)</span>
                                <span class="mono">$0.044</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <span>Prices based on API provider pricing as of December 2025</span>
            <span class="mono">SPECTRUM AI LABS √ó REVENUE WORKS LTD</span>
        </footer>
    </div>

    <script>
        // Pricing
        const PRICING = {
            fixed: 148,
            apify: {
                budget: 20, // $39 - $19 SimilarWeb rental
                similarWeb: 0.05,
                instagram: 0.002,
                youtube: 0.005,
                tiktok: 0.002
            },
            serper: {
                included: 50000,
                perCall: 0.001
            },
            apollo: {
                included: 2500,
                overage: 0.024
            },
            openai: {
                perEmail: 0.02
            }
        };

        // State
        let config = { web: 20, insta: 10, youtube: 10, tiktok: 10 };
        let usage = { keywords: 5, emails: 50 };

        function update() {
            // Read inputs
            config.web = parseInt(document.getElementById('cfg-web').value) || 0;
            config.insta = parseInt(document.getElementById('cfg-insta').value) || 0;
            config.youtube = parseInt(document.getElementById('cfg-youtube').value) || 0;
            config.tiktok = parseInt(document.getElementById('cfg-tiktok').value) || 0;
            usage.keywords = parseInt(document.getElementById('in-keywords').value) || 0;
            usage.emails = parseInt(document.getElementById('in-emails').value) || 0;

            // Total results per keyword
            const totalResults = config.web + config.insta + config.youtube + config.tiktok;
            const socialResults = config.insta + config.youtube + config.tiktok;

            // === COST PER KEYWORD ===
            const serperCost = config.web > 0 ? PRICING.serper.perCall : 0;
            const similarWebCost = config.web * PRICING.apify.similarWeb;
            const instaCost = config.insta > 0 ? PRICING.apify.instagram : 0;
            const youtubeCost = config.youtube > 0 ? PRICING.apify.youtube : 0;
            const tiktokCost = config.tiktok > 0 ? PRICING.apify.tiktok : 0;
            const socialCost = instaCost + youtubeCost + tiktokCost;
            const costPerKeyword = serperCost + similarWebCost + socialCost;
            const costPerSession = costPerKeyword * 5;

            // === MONTHLY COSTS ===
            const totalSearchCost = usage.keywords * costPerKeyword;
            const apifyUsage = usage.keywords * (similarWebCost + socialCost);
            const apifyOverage = Math.max(0, apifyUsage - PRICING.apify.budget);
            const serperOverage = Math.max(0, usage.keywords - PRICING.serper.included) * PRICING.serper.perCall;
            const apolloOverage = Math.max(0, usage.emails - PRICING.apollo.included) * PRICING.apollo.overage;
            const openaiCost = usage.emails * PRICING.openai.perEmail;

            const grandTotal = PRICING.fixed + apifyOverage + serperOverage + apolloOverage + openaiCost;

            // === UPDATE UI ===

            // Results summary
            document.getElementById('total-results').textContent = totalResults;
            document.getElementById('total-results-display').textContent = totalResults;
            document.getElementById('sum-web').textContent = config.web;
            document.getElementById('sum-insta').textContent = config.insta;
            document.getElementById('sum-youtube').textContent = config.youtube;
            document.getElementById('sum-tiktok').textContent = config.tiktok;
            document.getElementById('web-count-display').textContent = config.web;
            document.getElementById('social-count-display').textContent = socialResults;

            // Per keyword breakdown
            document.getElementById('sw-count').textContent = config.web;
            document.getElementById('sw-cost').textContent = '$' + similarWebCost.toFixed(2);
            document.getElementById('insta-count').textContent = config.insta;
            document.getElementById('insta-cost').textContent = config.insta > 0 ? '~$0.002' : '$0.00';
            document.getElementById('youtube-count').textContent = config.youtube;
            document.getElementById('youtube-cost').textContent = config.youtube > 0 ? '~$0.005' : '$0.00';
            document.getElementById('tiktok-count').textContent = config.tiktok;
            document.getElementById('tiktok-cost').textContent = config.tiktok > 0 ? '~$0.002' : '$0.00';
            document.getElementById('keyword-total').textContent = '$' + costPerKeyword.toFixed(2);
            document.getElementById('cost-per-keyword').textContent = '$' + costPerKeyword.toFixed(2);
            document.getElementById('cost-per-session').textContent = '$' + costPerSession.toFixed(2);
            document.getElementById('flow-search-cost').textContent = '~$' + costPerKeyword.toFixed(2);

            // Usage displays
            document.getElementById('disp-keywords').textContent = usage.keywords;
            document.getElementById('disp-emails').textContent = usage.emails.toLocaleString();

            // Apify budget
            document.getElementById('apify-usage').textContent = '$' + apifyUsage.toFixed(2);
            const apifyStatusEl = document.getElementById('apify-status');
            if (apifyUsage <= PRICING.apify.budget) {
                apifyStatusEl.innerHTML = ' ‚Äî <span style="color: var(--signal-green);">‚úì Within budget</span>';
            } else {
                apifyStatusEl.innerHTML = ' ‚Äî <span style="color: var(--signal-orange);">‚ö†Ô∏è +$' + apifyOverage.toFixed(2) + ' overage</span>';
            }

            // Summary
            document.getElementById('sum-keywords').textContent = usage.keywords;
            document.getElementById('sum-search').textContent = '$' + totalSearchCost.toFixed(2);
            document.getElementById('sum-apify').textContent = apifyOverage > 0 ? '+$' + apifyOverage.toFixed(2) : '$0.00';
            document.getElementById('sum-apify').className = apifyOverage > 0 ? 'value mono overage' : 'value mono';
            document.getElementById('sum-apollo').textContent = apolloOverage > 0 ? '+$' + apolloOverage.toFixed(2) : '$0.00';
            document.getElementById('sum-apollo').className = apolloOverage > 0 ? 'value mono overage' : 'value mono';
            document.getElementById('sum-email-count').textContent = usage.emails;
            document.getElementById('sum-openai').textContent = '$' + openaiCost.toFixed(2);
            document.getElementById('sum-total').textContent = '$' + grandTotal.toFixed(2);
            document.getElementById('grand-total').textContent = '$' + grandTotal.toFixed(2);

            // Meters
            const apifyPct = (apifyUsage / PRICING.apify.budget) * 100;
            document.getElementById('meter-apify').style.width = Math.min(100, apifyPct) + '%';
            document.getElementById('meter-apify').style.background = apifyPct > 100 ? 'var(--signal-orange)' : apifyPct > 70 ? 'var(--signal-orange)' : 'var(--signal-green)';
            document.getElementById('meter-apify-text').textContent = '$' + apifyUsage.toFixed(2) + ' / $20';

            const serperPct = (usage.keywords / PRICING.serper.included) * 100;
            document.getElementById('meter-serper').style.width = Math.max(0.5, serperPct) + '%';
            document.getElementById('meter-serper-text').textContent = usage.keywords.toLocaleString() + ' / 50,000';

            const apolloPct = (usage.emails / PRICING.apollo.included) * 100;
            document.getElementById('meter-apollo').style.width = Math.max(0.5, Math.min(100, apolloPct)) + '%';
            document.getElementById('meter-apollo').style.background = apolloPct > 100 ? 'var(--signal-orange)' : 'var(--signal-green)';
            document.getElementById('meter-apollo-text').textContent = usage.emails.toLocaleString() + ' / 2,500';

            // Quick ref
            document.getElementById('ref-keyword').textContent = '$' + costPerKeyword.toFixed(2);
            document.getElementById('ref-session').textContent = '$' + costPerSession.toFixed(2);
        }

        // Init
        update();
    </script>
</body>
</html>
